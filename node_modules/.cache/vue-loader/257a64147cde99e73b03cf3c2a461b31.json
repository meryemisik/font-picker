{"remainingRequest":"/Users/meryemisik/Desktop/yedek/docread-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/meryemisik/Desktop/yedek/docread-front/src/components/ui-kit/Uploader/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/meryemisik/Desktop/yedek/docread-front/src/components/ui-kit/Uploader/index.vue","mtime":1656414941917},{"path":"/Users/meryemisik/Desktop/yedek/docread-front/node_modules/cache-loader/dist/cjs.js","mtime":1654029522011},{"path":"/Users/meryemisik/Desktop/yedek/docread-front/node_modules/babel-loader/lib/index.js","mtime":1655882505362},{"path":"/Users/meryemisik/Desktop/yedek/docread-front/node_modules/cache-loader/dist/cjs.js","mtime":1654029522011},{"path":"/Users/meryemisik/Desktop/yedek/docread-front/node_modules/vue-loader/lib/index.js","mtime":1654029594062}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAiLi4vLi4vLi4vYXNzZXRzL3Njc3MvdXBsb2FkZXIuc2NzcyI7CmltcG9ydCBMb2FkZXIgZnJvbSAiLi4vTG9hZGVyL2luZGV4LnZ1ZSI7CmltcG9ydCBmcEljb24gZnJvbSAiLi4vSWNvbi9pbmRleC52dWUiOwppbXBvcnQgQWJvdXQgZnJvbSAnLi4vLi4vLi4vdmlld3MvQWJvdXQnCmltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gInF1ZXJ5c3RyaW5nIjsKCmNvbnN0IGRlYm91bmNlID0gcmVxdWlyZSgibG9kYXNoLmRlYm91bmNlIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImZwVXBsb2FkZXIiLAoKCiAgY29tcG9uZW50czogewogICAgTG9hZGVyLAogICAgZnBJY29uLAogICAgQWJvdXQKICB9LAogIHByb3BzOiB7CiAgICBuYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogInVwbG9hZGVyIiwKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImhvcml6b250YWwiLAogICAgICB2YWxpZGF0b3IodmFsdWUpIHsKICAgICAgICByZXR1cm4gWyJob3Jpem9udGFsIiwgInZlcnRpY2FsIl0uaW5kZXhPZih2YWx1ZSkgIT09IC0xOwogICAgICB9LAogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICB9LAogICAgbG9hZGluZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgfSwKICAgIGxvYWRlclRvdGFsOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgICBsb2FkZXJMb2FkZWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwLAogICAgfSwKICAgIGFjY2VwdDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIqIiwKICAgIH0sCiAgICBhY2NlcHRJbWFnZTp7CiAgICAgIHR5cGU6IHN0cmluZ2lmeSwKICAgICAgZGVmYXVsdDogImltYWdlL2pwZWcsIGltYWdlL3BuZwkiCiAgICB9LAogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZXM6IFtdLAogICAgICBpbWFnZURhdGE6bnVsbCwKICAgICAgZGVib3VuY2VkOiB7CiAgICAgICAgZHJhZ292ZXI6IGRlYm91bmNlKHRoaXMuZHJhZ292ZXIpLAogICAgICAgIGRyYWdsZWF2ZTogZGVib3VuY2UodGhpcy5kcmFnbGVhdmUsIDI1MCksCiAgICAgIH0sCiAgICAgIGRyYWdFbnRlcjogZmFsc2UsCiAgICAgIGV4dGVuc2lvbkxpc3Q6IHsKICAgICAgICBub3JtYWw6IFsiZG9jIiwgInBkZiIsICJ4bHMiXSwKICAgICAgICB2aWRlbzogWyJmbHYiLCAibW92IiwgIndlYm0iLCAibWt2IiwgImF2aSIsICJ3bXYiLCAibXA0Il0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHdyYXBwZXJDbGFzc2VzKCkgewogICAgICByZXR1cm4gewogICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkLAogICAgICB9OwogICAgfSwKICAgIGNsYXNzZXMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgW2B1cGxvYWRlci0tJHt0aGlzLnR5cGV9YF06IHRydWUsCiAgICAgICAgInVwbG9hZGVyLS1kcmFnZ2luZyI6IHRoaXMuZHJhZ0VudGVyLAogICAgICAgICJ1cGxvYWRlci0tbG9hZGluZyI6IHRoaXMubG9hZGluZywKICAgICAgICAidXBsb2FkZXItLWZpbGUtbGlzdCI6IHRoaXMuZmlsZXMubGVuZ3RoLAogICAgICB9OwogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBmaWxlcyhmaWxlcykgewogICAgICAvLyBjb25zb2xlLmxvZyhmaWxlcywgInVwbG9hZGVyIik7CiAgICAgIHRoaXMuJGVtaXQoImZpbGVzIiwgZmlsZXMpOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBkcmFnb3ZlcigpIHsKICAgICAgdGhpcy5kcmFnRW50ZXIgPSB0cnVlOwogICAgfSwKICAgIGRyYWdsZWF2ZSgpIHsKICAgICAgdGhpcy5kcmFnRW50ZXIgPSBmYWxzZTsKICAgIH0sCiAgICBhZGRJbWFnZVNvdXJjZShmaWxlTGlzdCkgewogICAgICByZXR1cm4gZmlsZUxpc3QubWFwKChmaWxlKSA9PiB7CiAgICAgICAgY29uc3QgZXh0ID0gZmlsZS5uYW1lLnNwbGl0KCIuIikucG9wKCk7CiAgICAgICAgbGV0IGljb24gPSBudWxsOwogICAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoImltYWdlLyIpKSB7CiAgICAgICAgICBpZiAodGhpcy5leHRlbnNpb25MaXN0Lm5vcm1hbC5pbmNsdWRlcyhleHQpKSB7CiAgICAgICAgICAgIGljb24gPSBgL2Fzc2V0cy9pY29ucy9maWxlLyR7ZXh0fS5zdmdgOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmV4dGVuc2lvbkxpc3QudmlkZW8uaW5jbHVkZXMoZXh0KSkgewogICAgICAgICAgICBpY29uID0gIi9hc3NldHMvaWNvbnMvZmlsZS92aWRlby5zdmciOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWNvbiA9ICIvYXNzZXRzL2ljb25zL2ZpbGUvdW5rbm93bi5zdmciOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBzaXplOiBmaWxlLnNpemUsCiAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSwKICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlLAogICAgICAgICAgICBleHQsCiAgICAgICAgICAgIGljb24sCiAgICAgICAgICB9LAogICAgICAgICAgc3JjOiBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpLAogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2hhbmdlKGdldENsaWNrZWQpIHsKICAgICAgbGV0IGZpbGVzID0gW107CiAgICAgIGlmIChnZXRDbGlja2VkKSB7CiAgICAgICAgZmlsZXMgPSBbLi4uZ2V0Q2xpY2tlZC50YXJnZXQuZmlsZXNdOwoKICAgICAgfSBlbHNlIHsKICAgICAgICBmaWxlcyA9IFsuLi50aGlzLiRyZWZzW2Ake3RoaXMubmFtZX0tZmlsZWBdLmZpbGVzXQoKICAgICAgfQoKCgogICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCkgewogICAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7CiAgICAgICAgICB0aGlzLmZpbGVzLnB1c2goLi4udGhpcy5hZGRJbWFnZVNvdXJjZShbLi4uZmlsZXNdKSk7CiAgICAgICAgICAvLyB0aGlzLmZpbGVzID0gdGhpcy5hZGRJbWFnZVNvdXJjZShbLi4uZmlsZXNdKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmZpbGVzID0gdGhpcy5hZGRJbWFnZVNvdXJjZShbZmlsZXNbMF1dKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maWxlcyA9IFtdOwogICAgICB9CgogICAgICB0aGlzLmRyYWdFbnRlciA9IGZhbHNlOwogICAgfSwKICAgIGRyb3AoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy4kcmVmc1tgJHt0aGlzLm5hbWV9LWZpbGVgXS5maWxlcyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlczsKICAgICAgdGhpcy5vbkNoYW5nZSgpOwogICAgfSwKICAgIHJlbW92ZShpKSB7CiAgICAgIHRoaXMuZmlsZXMuc3BsaWNlKGksIDEpOwogICAgfSwKICAgIGh1bWFuRmlsZVNpemUoYnl0ZXMsIGRwID0gMSkgewogICAgICBjb25zdCB0aHJlc2ggPSAxMDAwOwoKICAgICAgaWYgKE1hdGguYWJzKGJ5dGVzKSA8IHRocmVzaCkgewogICAgICAgIHJldHVybiBgJHtieXRlc30gQmA7CiAgICAgIH0KCiAgICAgIGNvbnN0IHVuaXRzID0gWyJLYiIsICJNYiIsICJHYiIsICJUYiIsICJQYiIsICJFYiIsICJaYiIsICJZYiJdOwogICAgICBsZXQgdSA9IC0xOwogICAgICBjb25zdCByID0gMTAgKiogZHA7CgogICAgICBkbyB7CiAgICAgICAgYnl0ZXMgLz0gdGhyZXNoOwogICAgICAgIHUgKz0gMTsKICAgICAgfSB3aGlsZSAoCiAgICAgICAgTWF0aC5yb3VuZChNYXRoLmFicyhieXRlcykgKiByKSAvIHIgPj0gdGhyZXNoICYmCiAgICAgICAgdSA8IHVuaXRzLmxlbmd0aCAtIDEKICAgICAgKTsKCiAgICAgIHJldHVybiBgJHtieXRlcy50b0ZpeGVkKGRwKX0gJHt1bml0c1t1XX1gOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/ui-kit/Uploader","sourcesContent":["<template>\n  <div :class=\"{ ...wrapperClasses }\" class=\"upluaderPosition\">\n    <div class=\"uploader \" :class=\"classes\">\n      <div class=\"uploader__wrapper  \">\n        <span\n          v-cloak\n          :ref=\"`${name}-file`\"\n          class=\"uploader__container uploader__\"\n          tabindex=\"0\"\n          @dragover.prevent=\"debounced.dragover\"\n          @dragleave.prevent=\"debounced.dragleave\"\n          @dragenter.prevent\n          @dragstart.prevent\n          @drop=\"drop\"\n        >\n          <span v-show=\"loading\" class=\"uploader__loading\">\n            <loader\n              class=\"uploader__loading--bar\"\n              type=\"finitive\"\n              :total=\"loaderTotal\"\n              :loaded=\"loaderLoaded\"\n              :hide-text=\"type === 'horizontal'\"\n              :only-percentage=\"type === 'vertical'\"\n            />\n          </span>\n          <span v-if=\"files.length\" class=\"uploader__files\">\n            <span v-for=\"(file, i) in files\" :key=\"i\" class=\"uploader__file\">\n              <span class=\"uploader__file--cover\">\n                <img\n                  v-if=\"file.data.icon\"\n                  :src=\"file.data.icon\"\n                  :alt=\"file.data.name\"\n                />\n                <img v-else :src=\"file.src\" :alt=\"file.data.name\" />\n              </span>\n              <span class=\"uploader__file--container\">\n                <span class=\"uploader__file--content\">\n                  <span class=\"uploader__file--content-name\">\n                    {{ file.data.name }}\n                  </span>\n                  <span class=\"uploader__file--content-size\">\n                    {{ humanFileSize(file.data.size) }}\n                  </span>\n                </span>\n                <fp-icon circle type=\"link\" icon=\"close\" @click=\"remove(file)\">\n                </fp-icon>\n              </span>\n            </span>\n          </span>\n          <label>\n            <input\n              :ref=\"`${name}-file-input`\"\n              type=\"file\"\n              :name=\"name\"\n              :multiple=\"multiple\"\n              :accept=\"acceptImage\"\n              @change=\"onChange\"\n            />\n            <span class=\"uploader__input\">\n              <span\n                v-show=\"dragEnter\"\n                data-here\n                class=\"uploader__input--drop-here\"\n              >\n                <span>Drop file now</span>\n              </span>\n              <fp-icon\n                name=\"file-upload\"\n                @click=\"$refs[`${name}-file-input`].click()\"\n              >\n              </fp-icon>\n              <span class=\"uploader__input--drag-text\">\n                <template v-if=\"type === 'horizontal'\"\n                  >Drag files here</template\n                >\n                <template v-else\n                  >Choose a file or drag it here\n                  <div>\n                    We require both front and back page of the car papers\n                  </div>\n                 \n                  <div>\n                    Supported Types: JPG, PNG .Max Size : 20MB\n                  </div>\n                </template>\n              </span>\n              <!-- <span class=\"uploader__input--or-text\">or</span> -->\n            </span>\n          </label>\n          <span v-if=\"$scopedSlots.info\" class=\"uploader__info\">\n            <slot name=\"info\" />\n          </span>\n<!--          <About :imageData=\"this.imageData\"></About>-->\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport \"../../../assets/scss/uploader.scss\";\nimport Loader from \"../Loader/index.vue\";\nimport fpIcon from \"../Icon/index.vue\";\nimport About from '../../../views/About'\nimport { stringify } from \"querystring\";\n\nconst debounce = require(\"lodash.debounce\");\n\nexport default {\n  name: \"fpUploader\",\n\n\n  components: {\n    Loader,\n    fpIcon,\n    About\n  },\n  props: {\n    name: {\n      type: String,\n      default: \"uploader\",\n    },\n    type: {\n      type: String,\n      default: \"horizontal\",\n      validator(value) {\n        return [\"horizontal\", \"vertical\"].indexOf(value) !== -1;\n      },\n    },\n    disabled: {\n      type: Boolean,\n    },\n    loading: {\n      type: Boolean,\n    },\n    loaderTotal: {\n      type: Number,\n      default: 0,\n    },\n    loaderLoaded: {\n      type: Number,\n      default: 0,\n    },\n    accept: {\n      type: String,\n      default: \"*\",\n    },\n    acceptImage:{\n      type: stringify,\n      default: \"image/jpeg, image/png\t\"\n    },\n    multiple: {\n      type: Boolean,\n    },\n  },\n  data() {\n    return {\n      files: [],\n      imageData:null,\n      debounced: {\n        dragover: debounce(this.dragover),\n        dragleave: debounce(this.dragleave, 250),\n      },\n      dragEnter: false,\n      extensionList: {\n        normal: [\"doc\", \"pdf\", \"xls\"],\n        video: [\"flv\", \"mov\", \"webm\", \"mkv\", \"avi\", \"wmv\", \"mp4\"],\n      },\n    };\n  },\n  computed: {\n    wrapperClasses() {\n      return {\n        disabled: this.disabled,\n      };\n    },\n    classes() {\n      return {\n        [`uploader--${this.type}`]: true,\n        \"uploader--dragging\": this.dragEnter,\n        \"uploader--loading\": this.loading,\n        \"uploader--file-list\": this.files.length,\n      };\n    },\n  },\n  watch: {\n    files(files) {\n      // console.log(files, \"uploader\");\n      this.$emit(\"files\", files);\n    },\n  },\n  created() {},\n  methods: {\n    dragover() {\n      this.dragEnter = true;\n    },\n    dragleave() {\n      this.dragEnter = false;\n    },\n    addImageSource(fileList) {\n      return fileList.map((file) => {\n        const ext = file.name.split(\".\").pop();\n        let icon = null;\n        if (!file.type.startsWith(\"image/\")) {\n          if (this.extensionList.normal.includes(ext)) {\n            icon = `/assets/icons/file/${ext}.svg`;\n          } else if (this.extensionList.video.includes(ext)) {\n            icon = \"/assets/icons/file/video.svg\";\n          } else {\n            icon = \"/assets/icons/file/unknown.svg\";\n          }\n        }\n        return {\n          data: {\n            size: file.size,\n            name: file.name,\n            type: file.type,\n            ext,\n            icon,\n          },\n          src: URL.createObjectURL(file),\n        };\n      });\n    },\n    onChange(getClicked) {\n      let files = [];\n      if (getClicked) {\n        files = [...getClicked.target.files];\n\n      } else {\n        files = [...this.$refs[`${this.name}-file`].files]\n\n      }\n\n\n\n      if (files.length > 0) {\n        if (this.multiple) {\n          this.files.push(...this.addImageSource([...files]));\n          // this.files = this.addImageSource([...files])\n        } else {\n          this.files = this.addImageSource([files[0]]);\n        }\n      } else {\n        this.files = [];\n      }\n\n      this.dragEnter = false;\n    },\n    drop(event) {\n      event.preventDefault();\n      this.$refs[`${this.name}-file`].files = event.dataTransfer.files;\n      this.onChange();\n    },\n    remove(i) {\n      this.files.splice(i, 1);\n    },\n    humanFileSize(bytes, dp = 1) {\n      const thresh = 1000;\n\n      if (Math.abs(bytes) < thresh) {\n        return `${bytes} B`;\n      }\n\n      const units = [\"Kb\", \"Mb\", \"Gb\", \"Tb\", \"Pb\", \"Eb\", \"Zb\", \"Yb\"];\n      let u = -1;\n      const r = 10 ** dp;\n\n      do {\n        bytes /= thresh;\n        u += 1;\n      } while (\n        Math.round(Math.abs(bytes) * r) / r >= thresh &&\n        u < units.length - 1\n      );\n\n      return `${bytes.toFixed(dp)} ${units[u]}`;\n    },\n  },\n};\n</script>\n"]}]}